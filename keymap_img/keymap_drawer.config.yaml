# Configuration for keymap-drawer, using the advanced `parse_config` method.
# This approach is better suited for ZMK and allows for more detailed key representations.

# Contains settings used by the `draw` step, like styling and icon sources.
draw_config:
  svg_extra_style: |
    svg.keymap { background-color: #ffffff; font-family: sans-serif; }
    rect.key { fill: #f6f8fa; stroke: #c9cccf; stroke-width: 1; }
    rect.held, rect.combo.held { fill: #c8e1ff; }
    rect.combo { fill: #e1e4e8; }
    text { fill: #24292e; }
  glyph_urls:
    mdi: https://raw.githubusercontent.com/Templarian/MaterialDesign-SVG/master/svg/{}.svg
  use_local_cache: true
  glyph_tap_size: 18
  glyph_hold_size: 15
  glyph_shifted_size: 15

# Contains settings used by the `parse` step, including detailed ZMK binding maps.
parse_config:
  raw_binding_map:
    # Layers and Layer Taps
    "&lt NUM DEL": { tap: $$mdi:backspace-reverse-outline$$, hold: NUM }
    "&lt SYM BSPC": { tap: $$mdi:backspace$$, hold: SYM }
    "&mo FUNC": { tap: FUNC, type: momentary }

    # Homerow Mods
    "&hm LGUI S": { tap: S, hold: $$mdi:apple-keyboard-command$$ }
    "&hm LCTRL D": { tap: D, hold: $$mdi:apple-keyboard-control$$ }
    "&hm LSHFT F": { tap: F, hold: $$mdi:apple-keyboard-shift$$ }
    "&hm RSHFT J": { tap: J, hold: $$mdi:apple-keyboard-shift$$ }
    "&hm RCTRL K": { tap: K, hold: $$mdi:apple-keyboard-control$$ }
    "&hm RGUI L": { tap: L, hold: $$mdi:apple-keyboard-command$$ }

    # Tap Dances
    "&copy_dance": { tap: C, shifted: $$mdi:content-copy$$ }
    "&paste_dance": { tap: V, shifted: $$mdi:content-paste$$ }
    "&dot_spc": { tap: '.', shifted: $$mdi:keyboard-space$$ }

    # Hold-Taps (Non-homerow)
    "&mt RALT BSPC": { tap: $$mdi:backspace$$, hold: Alt }
    "&tp LG(LC(LA(LSHFT))) TAB": { tap: $$mdi:keyboard-tab$$, hold: Hyper }
    "&tp LG(LC(LA(LSHFT))) ESC": { tap: $$mdi:keyboard-esc$$, hold: Hyper }

    # Bluetooth Keys
    "&bt BT_CLR": $$mdi:bluetooth-off$$
    "&bt BT_NXT": $$mdi:bluetooth-audio$$
    "&bt BT_PRV": $$mdi:bluetooth-audio$$
    "&bt BT_SEL 0": { hold: 1, shifted: $$mdi:bluetooth-connect$$ }
    "&bt BT_SEL 1": { hold: 2, shifted: $$mdi:bluetooth-connect$$ }
    "&bt BT_SEL 2": { hold: 3, shifted: $$mdi:bluetooth-connect$$ }

    # System Keys
    "&sys_reset": $$mdi:backup-restore$$
    "&bootloader": $$mdi:progress-download$$

    # Media Keys
    "&kp C_PP": $$mdi:play-pause$$
    "&kp C_MUTE": $$mdi:volume-off$$
    "&kp C_VOL_DN": $$mdi:volume-low$$
    "&kp C_VOL_UP": $$mdi:volume-high$$
    "&kp C_NEXT": $$mdi:skip-next$$
    "&kp C_PREV": $$mdi:skip-previous$$

    # Mouse Keys
    "&mkp LCLK": $$mdi:mouse-left-click-outline$$
    "&mkp RCLK": $$mdi:mouse-right-click-outline$$
    "&mkp MCLK": $$mdi:mouse-scroll-wheel$$
    "&mmv MOVE_LEFT": { tap: $$mdi:menu-left$$, shifted: $$mdi:mouse$$ }
    "&mmv MOVE_RIGHT": { tap: $$mdi:menu-right$$, shifted: $$mdi:mouse$$ }
    "&mmv MOVE_UP": { tap: $$mdi:menu-up$$, shifted: $$mdi:mouse$$ }
    "&mmv MOVE_DOWN": { tap: $$mdi:menu-down$$, shifted: $$mdi:mouse$$ }
    "&msc SCRL_UP": $$mdi:pan-up$$
    "&msc SCRL_DOWN": $$mdi:pan-down$$

    # Macros (assign simple text/icons)
    "&dq_macro": '""'
    "&homeapp": HomeRow
    "&nomachine": NoMachine
    "&lt_gt_macro": "<>"
    "&lb_rb_macro": "{}"
    "&lp_rp_macro": "()"
    "&ls_rs_macro": "[]"

    # Combos
    "&vim_wq": Vim WQ
    "&vim_q": Vim Q!

  # Use the default ZMK keycode mapping for standard keys
  zmk_keycode_map:
    TRANS: ▽
    _______: ▽
    K_TRANS: ▽
    UNDER: '_'
    STAR: '*'
    PLUS: '+'
    BSLH: '\'
    PIPE: '|'
    HASH: '#'
    DLLR: '$'
    AT: '@'
    TILDE: '~'
    GRAVE: '`'
    PRCNT: '%'
    EXCL: '!'
    AMPS: '&'
    CARET: ^
    EQUAL: '='
    MINUS: '-'
    SLASH: '/'
    FSLH: '/'
    COMMA: ','
    DOT: '.'
    SEMI: ';'
    LT: '<'
    GT: '>'
    LBKT: '['
    RBKT: ']'
    LBRC: '{'
    RBRC: '}'
    LPAR: '('
    RPAR: ')'
    DQT: '"'
    SQT: ''''
