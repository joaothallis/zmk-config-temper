# Configuration for keymap-drawer, using the advanced `parse_config` method.
# This approach is better suited for ZMK and allows for more detailed key representations.

# Contains settings used by the `draw` step, like styling and icon sources.
draw_config:
  svg_extra_style: |
    svg.keymap { background-color: #ffffff; font-family: sans-serif; }
    rect.key { fill: #f6f8fa; stroke: #c9cccf; stroke-width: 1; }
    rect.held, rect.combo.held { fill: #c8e1ff; }
    rect.combo { fill: #e1e4e8; }
    text { fill: #24292e; }
    rect.layer-NUM.held { fill: #ffd8d8; }
    rect.layer-SYM.held { fill: #d8ffd8; }
    rect.layer-FUNC.held { fill: #d8d8ff; }
    rect.layer-active { stroke: #ff0000; stroke-width: 2; }
  glyph_urls:
    mdi: https://raw.githubusercontent.com/Templarian/MaterialDesign-SVG/master/svg/{}.svg
  use_local_cache: true
  glyph_tap_size: 18
  glyph_hold_size: 15
  glyph_shifted_size: 15

# Contains settings used by the `parse` step, including detailed ZMK binding maps.
parse_config:
  mark_alternate_layer_activators: true
  layer_names:
    0: DEFAULT
    1: NUM
    2: SYM
    3: FUNC
  raw_layer_overrides:
    NUM:
      31: { type: held }
    SYM:
      34: { type: held }
    FUNC:
      31: { type: held }
      34: { type: held }
  raw_binding_map:
    # Thumb keys
    "&mo NUM": { tap: NUM, type: layer }
    "&hm LGUI TAB": { tap: $$mdi:keyboard-tab$$, hold: $$mdi:apple-keyboard-command$$ }
    "&lt SYM SPACE": { tap: $$mdi:keyboard-space$$, hold: SYM, type: hold-tap }
    "&hm LCTRL BSPC": { tap: $$mdi:backspace$$, hold: $$mdi:apple-keyboard-control$$ }
    "&hm RSHFT ENTER": { tap: $$mdi:keyboard-return$$, hold: $$mdi:apple-keyboard-shift$$ }

    # Bottom row mods (left)
    "&hm LSHFT Z": { tap: Z, hold: $$mdi:apple-keyboard-shift$$ }
    "&hm LALT X": { tap: X, hold: $$mdi:apple-keyboard-option$$ }
    "&hm LCTRL C": { tap: C, hold: $$mdi:apple-keyboard-control$$ }
    "&hm LGUI V": { tap: V, hold: $$mdi:apple-keyboard-command$$ }

    # Bottom row mods (right)
    "&hm RGUI N": { tap: N, hold: $$mdi:apple-keyboard-command$$ }
    "&hm RCTRL M": { tap: M, hold: $$mdi:apple-keyboard-control$$ }
    "&hm RALT COMMA": { tap: ',', hold: $$mdi:apple-keyboard-option$$ }
    "&hm RSHFT DOT": { tap: '.', hold: $$mdi:apple-keyboard-shift$$ }

    # Navigation macros
    "&lcs_tab": $$mdi:tab-minus$$
    "&screenshot": $$mdi:camera$$

    # Bluetooth Keys
    "&bt BT_CLR": $$mdi:bluetooth-off$$
    "&bt BT_NXT": $$mdi:bluetooth-transfer$$
    "&bt BT_PRV": $$mdi:bluetooth-transfer$$
    "&bt BT_SEL 0": { hold: 1, shifted: $$mdi:bluetooth-connect$$ }
    "&bt BT_SEL 1": { hold: 2, shifted: $$mdi:bluetooth-connect$$ }
    "&bt BT_SEL 2": { hold: 3, shifted: $$mdi:bluetooth-connect$$ }

    # System Keys
    "&sys_reset": "Reset"
    "&bootloader": "Boot"

    # Media Keys
    "&kp C_PP": $$mdi:play-pause$$
    "&kp C_MUTE": $$mdi:volume-off$$
    "&kp C_VOL_DN": $$mdi:volume-low$$
    "&kp C_VOL_UP": $$mdi:volume-high$$
    "&kp C_NEXT": $$mdi:skip-next$$
    "&kp C_PREV": $$mdi:skip-previous$$
    "&kp C_STOP": $$mdi:stop$$

    # Mouse Keys
    "&mkp LCLK": $$mdi:mouse-left-click-outline$$
    "&mkp RCLK": $$mdi:mouse-right-click-outline$$
    "&mkp MCLK": $$mdi:mouse-scroll-wheel$$
    "&mmv MOVE_LEFT": { tap: $$mdi:menu-left$$, shifted: $$mdi:mouse$$ }
    "&mmv MOVE_RIGHT": { tap: $$mdi:menu-right$$, shifted: $$mdi:mouse$$ }
    "&mmv MOVE_UP": $$mdi:mouse-move-up$$
    "&mmv MOVE_DOWN": $$mdi:mouse-move-down$$
    "&msc SCRL_UP": $$mdi:pan-up$$
    "&msc SCRL_DOWN": $$mdi:pan-down$$
    "&msc SCRL_LEFT": $$mdi:pan-left$$
    "&msc SCRL_RIGHT": $$mdi:pan-right$$

    # Copy/Paste shortcuts
    "&kp LG(C)": $$mdi:content-copy$$
    "&kp LG(V)": $$mdi:content-paste$$

    # Browser navigation
    "&kp LG(LEFT)": $$mdi:arrow-left-bold-box-outline$$
    "&kp LG(RIGHT)": $$mdi:arrow-right-bold-box-outline$$
    "&kp LC(TAB)": $$mdi:tab-plus$$

  # Use the default ZMK keycode mapping for standard keys
  zmk_keycode_map:
    TRANS: ▽
    _______: ▽
    K_TRANS: ▽
    UNDER: '_'
    STAR: '*'
    PLUS: '+'
    BSLH: '\'
    PIPE: '|'
    HASH: '#'
    DLLR: '$'
    AT: '@'
    TILDE: '~'
    GRAVE: '`'
    PRCNT: '%'
    EXCL: '!'
    AMPS: '&'
    CARET: '^'
    EQUAL: '='
    MINUS: '-'
    SLASH: '/'
    FSLH: 
      tap: '/'
      shifted: '?'
    COMMA: 
      tap: ','
      shifted: '<'
    DOT: 
      tap: '.'
      shifted: '>'
    SEMI:
      tap: ';'
      shifted: ':'
    COLON: ':'
    LT: '<'
    GT: '>'
    LBKT: '['
    RBKT: ']'
    LBRC: '{'
    RBRC: '}'
    LPAR: '('
    RPAR: ')'
    DQT: '"'
    SQT: ''''
    LGUI: $$mdi:apple-keyboard-command$$
    LNLCK: 'Num Lock'
    RALT: $$mdi:apple-keyboard-option$$
    # Arrow keys
    UP: $$mdi:arrow-up-bold$$
    DOWN: $$mdi:arrow-down-bold$$
    LEFT: $$mdi:arrow-left-bold$$
    RIGHT: $$mdi:arrow-right-bold$$
